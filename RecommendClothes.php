<?php
function getClothingRecommendation($temp) {
    global $current_weather_detail; //ì™¸ë¶€ ë³€ìˆ˜ ê°€ì ¸ì˜¤ê¸°
    //í’ì† ë‹¨ìœ„ ë³€í™˜ (m/s -> km/h)
    $wsd = isset($current_weather_detail['wsd']) ? (float)$current_weather_detail['wsd'] : 0;
    $windKmh = $wsd * 3.6; //ì²´ê°ì˜¨ë„ë¥¼ í˜„ì¬ ê¸°ì˜¨ìœ¼ë¡œ ì„¤ì •
    $sensoryTemp = $temp;

    //ì²´ê°ì˜¨ë„ ì¡°ê±´ë¬¸ (ê³„ì‚°)
    if ($temp <= 10 && $windKmh >= 4.8) {
        $powWind = pow($windKmh, 0.16);
        // ê¸°ìƒì²­ ì²´ê°ì˜¨ë„ ê³µì‹ 
        $sensoryTemp = 13.12 + 0.6215 * $temp - 11.37 * $powWind + 0.3965 * $temp * $powWind;
        $sensoryTemp = round($sensoryTemp, 1);
    }

    $comment = "";

    if ($temp >= 35) {
        $comment = "ğŸ”¥í­ì—¼ ê²½ë³´! ì—ì–´ì»¨ ì—†ì¸ ìœ„í—˜í•´ìš”. ë¯¼ì†Œë§¤, ë¦°ë„¨ ë“± ìµœëŒ€í•œ ì‹œì›í•˜ê³  ì–‡ì€ ì˜· í•„ìˆ˜!";
    } elseif ($sensoryTemp >= 30) {
        $comment = "â˜€ï¸ì§„ì§œ ì—¬ë¦„ ë‚ ì”¨! í†µê¸°ì„± ì¢‹ì€ ë°˜íŒ”, ë°˜ë°”ì§€, ì§§ì€ ì¹˜ë§ˆë¥¼ ì…ìœ¼ì„¸ìš”.";
    } elseif ($sensoryTemp >= 27) {
        $comment = "ğŸ½ê½¤ ë”ì›Œìš”. ë°˜íŒ” í‹°ì…”ì¸ ë‚˜ ì–‡ì€ ì…”ì¸ , ë°˜ë°”ì§€ê°€ ë”± ì¢‹ì•„ìš”.";
    } elseif ($sensoryTemp >= 24) {
        $comment = "ğŸ‘•ìŠµë„ê°€ ëŠê»´ì§€ëŠ” ë”ìœ„ë„¤ìš”. ì–‡ì€ ë°˜íŒ”ì´ë‚˜ ì…”ì¸ ì— ë©´ë°”ì§€ë¥¼ ì¶”ì²œí•´ìš”.";
    } elseif ($sensoryTemp >= 21) {
        $comment = "ğŸ‘ší™œë™í•˜ê¸° ê°€ì¥ ì¢‹ì€ ë‚ ì”¨! ê¸´íŒ” í‹°ì…”ì¸ , ì–‡ì€ ì…”ì¸ , ìŠ¬ë™ìŠ¤ë¡œ ë©‹ë‚´ê¸° ì¢‹ì•„ìš”.";
    } elseif ($sensoryTemp >= 19) {
        $comment = "ğŸ§¥ê·¸ëŠ˜ì€ ì„œëŠ˜í•´ìš”. ì–‡ì€ ë‹ˆíŠ¸ë‚˜ ë§¨íˆ¬ë§¨ì„ ì…ê³ , ê°€ë²¼ìš´ ê°€ë””ê±´ì„ ì±™ê¸°ì„¸ìš”.";
    } elseif ($sensoryTemp >= 17) {
        $comment = "ğŸ§¶ìŒ€ìŒ€í•¨ì´ ëŠê»´ì ¸ìš”. ë„í†°í•œ ê°€ë””ê±´ì´ë‚˜ í›„ë“œí‹°, ë§¨íˆ¬ë§¨ì„ ì…ìœ¼ì„¸ìš”.";
    } elseif ($sensoryTemp >= 14) {
        $comment = "ğŸ§¥ê²‰ì˜·ì´ í•„ìˆ˜ì˜ˆìš”. ìì¼“, ì²­ìì¼“, ì•¼ìƒ, ì…”ì¸ ì— ë‹ˆíŠ¸ë¥¼ ë ˆì´ì–´ë“œí•˜ì„¸ìš”.";
    } elseif ($sensoryTemp >= 12) {
        $comment = "ğŸ§¥ë°”ëŒì´ ì°¨ê°€ì›Œìš”. íŠ¸ë Œì¹˜ì½”íŠ¸, ê°„ì ˆê¸° ì í¼, ìŠ¤íƒ€í‚¹ì„ ì±™ê¸°ì„¸ìš”.";
    } elseif ($sensoryTemp >= 9) {
        $comment = "ğŸ‚ì´ˆê²¨ìš¸ ëŠë‚Œ! ì½”íŠ¸ë‚˜ ê°€ì£½ìì¼“, ë„í†°í•œ ì í¼ë¥¼ êº¼ë‚´ ì…ìœ¼ì„¸ìš”.";
    } elseif ($sensoryTemp >= 6) {
        $comment = "ğŸ§£ì´ì œ ì¶¥ë„¤ìš”. íˆíŠ¸í…ì„ ì…ê³ , ì½”íŠ¸ë‚˜ ì–‡ì€ íŒ¨ë”©ì¡°ë¼ë¥¼ ê²¹ì³ ì…ìœ¼ì„¸ìš”.";
    } elseif ($sensoryTemp >= 2) {
        $comment = "â„ï¸ê²¨ìš¸ì…ë‹ˆë‹¤. ë‘êº¼ìš´ ì½”íŠ¸ë‚˜ íŒ¨ë”©ì„ ì…ê³  ëª©ë„ë¦¬ë¥¼ í•˜ì„¸ìš”.";
    } elseif ($sensoryTemp >= -4) {
        $comment = "ğŸ§¤ì…ê¹€ì´ ë‚˜ì™€ìš”! ìˆíŒ¨ë”©ì´ë‚˜ ë‘êº¼ìš´ íŒŒì¹´, ì¥ê°‘ì´ í•„ìš”í•´ìš”.";
    } elseif ($sensoryTemp >= -9) {
        $comment = "ğŸ¥¶ê°•ë ¥í•œ ì¶”ìœ„! ë¡±íŒ¨ë”©ìœ¼ë¡œ ë¬´ì¥í•˜ê³  ê·€ë§ˆê°œ, ëª©ë„ë¦¬ë¡œ ê½ê½ ì‹¸ë§¤ì„¸ìš”.";
    } else {
        $comment = "â›”ì™¸ì¶œ ìì œ ì¶”ì²œ! ë‚´ë³µ+íŒ¨ë”©+ë°©í•œìš©í’ˆìœ¼ë¡œ ìƒì¡´ íŒ¨ì…˜ì´ í•„ìš”í•´ìš”!";
    }

    return $comment;
}
?>